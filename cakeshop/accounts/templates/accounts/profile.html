{% extends 'main/layout.html' %}
{% load static %}

{% block title %}–ü—Ä–æ—Ñ–∏–ª—å{% endblock %}
{% block css-file %}{% static 'main/css/main.css' %}{% endblock %}

{% block content %}
<div class="wrap">
  <div class="profile-section" style="display:flex; gap:50px; margin-top:80px; flex-wrap: wrap;">

    <!-- –õ–µ–≤—ã–π –±–ª–æ–∫ ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <div class="info-block profile-left" >
      <h2 class="info-title">–ü—Ä–∏–≤–µ—Ç, {{ user.username }} üëã</h2>
      <div class="profile-info">
        <p><strong>–õ–æ–≥–∏–Ω:</strong> {{ user.username }}</p>
        <p><strong>Email:</strong> {{ user.email }}</p>
        <p><strong>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</strong> {{ user.date_joined|date:"d.m.Y" }}</p>
      </div>
      <a href="{% url 'logout_user' %}" class="back-button">–í—ã–π—Ç–∏</a>
    </div>

    <!-- –ü—Ä–∞–≤—ã–π –±–ª–æ–∫ ‚Äî –∑–∞–∫–∞–∑—ã -->
    <div class="orders-section profile-right">
      <h2 class="info-title">–ú–æ–∏ –∑–∞–∫–∞–∑—ã</h2>
      {% if orders %}
      <div class="catalog1">
        {% for order in orders %}
        <div class="card1">
          <div class="card-cont">
            <h3>–ó–∞–∫–∞–∑ ‚Ññ{{ order.id }} ‚Äî {{ order.cake_name }}</h3>
            <p class="per-item-price">–°—Ç–∞—Ç—É—Å: {{ order.get_status_display }}</p>
            <p class="per-item-price">–î–∞—Ç–∞: {{ order.created_at|date:"d.m.Y H:i" }}</p>
          </div>
        </div>
        {% endfor %}
      </div>
      {% else %}
      <p class="no-orders-text">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤</p>
      <a href="{% url 'catalog' %}" class="choice-btn">–°–¥–µ–ª–∞—Ç—å –∑–∞–∫–∞–∑</a>
      {% endif %}
    </div>

  </div>
</div>
{% endblock %}
